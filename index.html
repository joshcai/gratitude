<!DOCTYPE html>
<html>

<head>
	<title>gratitude</title>
	<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:600&display=swap" rel="stylesheet">
	<style>

	body {
		background-color: #fbfbfb;
		text-align: center;
	}

	#list {
		/* Remove padding that was causing improper centering. */
		padding-inline-start: 0;
		font-family: 'Nunito Sans', sans-serif;
		font-size: 1.5em;
		text-shadow: 1px 1px 1px gainsboro;
	}

	#list li {
		/* Remove the bullet point. */
	    list-style-type: none;
	}

	</style>
</head>

<body>
	<ul id="list"></ul>
</body>

<script>

	const xhr = new XMLHttpRequest();
	xhr.open('GET', 'https://trello.com/1/Boards/4A16dvEI/cards?fields=name,dateLastActivity');
	xhr.onreadystatechange = function() {
		if (xhr.readyState !== 4 || xhr.status !== 200) {
			return;
		}
		const cards = JSON.parse(xhr.responseText);
		// Reverse cards since we want to see most recent at the top.
		for (const card of cards.reverse()) {
			const node = document.createElement('LI');
			node.appendChild(document.createTextNode(card.name));
			const dateString = new Date(card.dateLastActivity).toLocaleDateString();
			node.title = dateString;
			document.getElementById('list').appendChild(node);
		}
	};
	xhr.send();

</script>

</html>
